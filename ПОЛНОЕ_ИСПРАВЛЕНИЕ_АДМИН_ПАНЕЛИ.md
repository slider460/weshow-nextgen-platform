# üöÄ –ü–û–õ–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–ò

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç REST API –≤–º–µ—Å—Ç–æ Supabase –∫–ª–∏–µ–Ω—Ç–∞, —á—Ç–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∞–Ω–∏–µ–º –∏ –ø–æ—Ç–µ—Ä–µ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Ñ–∞–π–ª `src/api/adminRest.ts`
- REST API —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ URL –∏ –∫–ª—é—á–∏, —á—Ç–æ –∏ `LogosContextDB`
- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å:
  - `homepage_equipment` (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
  - `cases` (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
  - `estimates` (—á—Ç–µ–Ω–∏–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
  - `equipment_catalog` (—á—Ç–µ–Ω–∏–µ)
  - `users` (—á—Ç–µ–Ω–∏–µ)

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `src/pages/admin/HomepageEquipmentAdmin.tsx`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.from()` –Ω–∞ `getHomepageEquipment()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.insert()` –Ω–∞ `createHomepageEquipment()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.update()` –Ω–∞ `updateHomepageEquipment()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.delete()` –Ω–∞ `deleteHomepageEquipment()`
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `createTableAndData()` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ RPC)
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `src/pages/admin/CaseManagement.tsx`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.from()` –Ω–∞ `getCases()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.insert()` –Ω–∞ `createCase()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.update()` –Ω–∞ `updateCase()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.delete()` –Ω–∞ `deleteCase()`
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `src/pages/admin/CasesManagement.tsx`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.from()` –Ω–∞ `getCases()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.insert()` –Ω–∞ `createCase()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.update()` –Ω–∞ `updateCase()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.delete()` –Ω–∞ `deleteCase()`
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 5. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `src/pages/admin/AdminManagement.tsx`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `supabase.from()` –Ω–∞ `getEstimatesStats()`, `getEquipmentCatalog()`, `getUsers()`
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 6. –°–æ–∑–¥–∞–Ω SQL —Å–∫—Ä–∏–ø—Ç `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–ê–î–ú–ò–ù_–ü–ê–ù–ï–õ–ò_RLS.sql`
- –û—Ç–∫–ª—é—á–∞–µ—Ç RLS –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏:
  - `homepage_equipment`
  - `cases`
  - `estimates`
  - `equipment_catalog`
  - `users`
  - `user_profiles`
- –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ RLS
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å RLS –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –±–æ–ª—å—à–µ –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ CRUD —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –ø–æ—Ç–µ—Ä–µ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: REST API –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç –∫–∞–∫ Supabase –∫–ª–∏–µ–Ω—Ç
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä—è–º—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –±—ã—Å—Ç—Ä–µ–µ
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ú–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º RLS
- **–û—Ç–ª–∞–¥–∫–∞**: –õ–µ–≥—á–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç
```sql
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–ê–î–ú–ò–ù_–ü–ê–ù–ï–õ–ò_RLS.sql
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
npm run dev
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π

## üìã –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã

1. **–ù–æ–≤—ã–π —Ñ–∞–π–ª**: `src/api/adminRest.ts`
2. **–ò–∑–º–µ–Ω–µ–Ω**: `src/pages/admin/HomepageEquipmentAdmin.tsx`
3. **–ò–∑–º–µ–Ω–µ–Ω**: `src/pages/admin/CaseManagement.tsx`
4. **–ò–∑–º–µ–Ω–µ–Ω**: `src/pages/admin/CasesManagement.tsx`
5. **–ò–∑–º–µ–Ω–µ–Ω**: `src/pages/admin/AdminManagement.tsx`
6. **–ù–æ–≤—ã–π —Ñ–∞–π–ª**: `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–ê–î–ú–ò–ù_–ü–ê–ù–ï–õ–ò_RLS.sql`

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### REST API —Ñ—É–Ω–∫—Ü–∏–∏:
- `getHomepageEquipment()` - –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `createHomepageEquipment(data)` - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `updateHomepageEquipment(id, data)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `deleteHomepageEquipment(id)` - —É–¥–∞–ª–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `getCases()` - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–µ–π—Å–æ–≤
- `createCase(data)` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–µ–π—Å–∞
- `updateCase(id, data)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–µ–π—Å–∞
- `deleteCase(id)` - —É–¥–∞–ª–µ–Ω–∏–µ –∫–µ–π—Å–∞
- `getEstimatesStats()` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—è–≤–æ–∫
- `getEquipmentCatalog()` - –∫–∞—Ç–∞–ª–æ–≥ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `getUsers()` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **URL**: `https://wjrxqyfqgvqzmwqkqmdu.supabase.co`
- **–ö–ª—é—á**: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`
- **–ú–µ—Ç–æ–¥**: –ü—Ä—è–º—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ REST API

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ! –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∞–Ω–∏–µ–º –∏ –ø–æ—Ç–µ—Ä–µ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω—ã. –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å REST API, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û**
**–î–∞—Ç–∞**: 2024-12-19
**–í—Ä–µ–º—è**: ~17:30
