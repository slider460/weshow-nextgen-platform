# üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ WESHOW

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. **–ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ git!**
–§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `.gitignore`.

### 2. **SERVICE_ROLE KEY - —Ç–æ–ª—å–∫–æ –¥–ª—è backend!**
- ‚ùå **–ù–ï –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï** `VITE_SUPABASE_SERVICE_KEY` –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ **–¢–û–õ–¨–ö–û** –≤ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö (Edge Functions, API Routes)
- üîê Service Role –æ–±—Ö–æ–¥–∏—Ç –≤—Å–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ë–î

### 3. **ANON_KEY - –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞**
- ‚úÖ `VITE_SUPABASE_ANON_KEY` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ
- ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ RLS (Row Level Security) –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- üîí Anon key —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏, –∑–∞—â–∏—â–µ–Ω–Ω—ã–º–∏ RLS

---

## üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:
```bash
cp .env.example .env
```

2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ Supabase Dashboard:
```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key_here
```

3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `.env` –≤ `.gitignore`:
```bash
git check-ignore .env  # –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å .env
```

### –î–ª—è production:

1. **–ù–ï** –≤–∫–ª—é—á–∞–π—Ç–µ `VITE_SUPABASE_SERVICE_KEY` –≤ production build
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ —Ö–æ—Å—Ç–∏–Ω–≥–∞ (Vercel, Netlify –∏ —Ç.–¥.)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–ª—å–∫–æ:
   - `VITE_SUPABASE_URL`
   - `VITE_SUPABASE_ANON_KEY`

---

## üõ°Ô∏è –ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **XSS Protection**
   - React –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
   - –í—Å–µ —Ñ–æ—Ä–º—ã –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç XSS –∞—Ç–∞–∫

2. **SQL Injection Protection**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supabase REST API —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
   - –ü—Ä—è–º–æ–≥–æ SQL –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

3. **CORS Protection**
   - Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ origin
   - –ó–∞–ø—Ä–æ—Å—ã —Å –¥—Ä—É–≥–∏—Ö –¥–æ–º–µ–Ω–æ–≤ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è

4. **HTTPS Headers** (–æ—Ç Supabase):
   - `Strict-Transport-Security`
   - `X-Content-Type-Options: nosniff`
   - HttpOnly, Secure cookies

5. **Row Level Security (RLS)**
   - –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã RLS –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏
   - –î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ —Ä–æ–ª—è–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üîç –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:

1. **Exposed Keys**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ hardcoded secrets
   grep -r "eyJ" src/ --exclude-dir=node_modules
   ```

2. **Git History**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ .env –Ω–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏
   git log --all --full-history -- .env
   ```

3. **Dependencies**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
   npm audit
   ```

---

## üö® –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —É—Ç–µ—á–∫–µ –∫–ª—é—á–µ–π

### –ï—Å–ª–∏ service_role key —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω:

1. **–ù–ï–ú–ï–î–õ–ï–ù–ù–û** —Å–±—Ä–æ—Å—å—Ç–µ –∫–ª—é—á –≤ Supabase Dashboard:
   - Settings ‚Üí API ‚Üí Service role key ‚Üí Reset

2. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª —Å –Ω–æ–≤—ã–º –∫–ª—é—á–æ–º

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Supabase –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

4. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–æ—Ç–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–ª—é—á–µ–π

### –ï—Å–ª–∏ anon key —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–æ—Ç–∞—Ü–∏—é –∫–ª—é—á–∞
4. –î–æ–±–∞–≤—å—Ç–µ rate limiting

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π:
- Email: security@weshow.ru
- –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –ø—É–±–ª–∏—á–Ω–æ
- –î–∞–π—Ç–µ –Ω–∞–º –≤—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Supabase Security Best Practices](https://supabase.com/docs/guides/platform/going-into-prod#security)
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [React Security Best Practices](https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 10 –æ–∫—Ç—è–±—Ä—è 2025  
**–ê—É–¥–∏—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω:** MCP Chrome DevTools Security Audit

