<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π –∏–≥—Ä—ã</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: white;
            font-family: Arial, sans-serif;
        }
        .comparison {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        .version {
            flex: 1;
            text-align: center;
        }
        canvas {
            border: 2px solid #333;
            background: #87CEEB;
            display: block;
            margin: 20px auto;
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        button:hover {
            background: #45a049;
        }
        .status {
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            margin: 10px;
        }
        .links {
            text-align: center;
            margin: 20px;
        }
        .links a {
            color: #4CAF50;
            text-decoration: none;
            margin: 0 10px;
        }
        .links a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">üéÆ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π –∏–≥—Ä—ã</h1>
    
    <div class="links">
        <a href="/game">üéØ React –≤–µ—Ä—Å–∏—è</a>
        <a href="/game-test.html">üîÑ HTML –≤–µ—Ä—Å–∏—è</a>
        <a href="/game-simple">üì± –ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è</a>
    </div>
    
    <div class="comparison">
        <div class="version">
            <h2>üö¥‚Äç‚ôÇÔ∏è HTML –≤–µ—Ä—Å–∏—è (—Ä–∞–±–æ—Ç–∞–µ—Ç)</h2>
            <canvas id="htmlCanvas" width="400" height="200"></canvas>
            <button onclick="startHtmlGame()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            <button onclick="stopHtmlGame()">–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
            <div class="status">
                <div id="htmlStatus">–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ...</div>
                <div id="htmlScore">–û—á–∫–∏: 0</div>
            </div>
        </div>
        
        <div class="version">
            <h2>‚öõÔ∏è React –≤–µ—Ä—Å–∏—è (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å)</h2>
            <p>–û—Ç–∫—Ä–æ–π—Ç–µ <a href="/game" style="color: #4CAF50;">React –≤–µ—Ä—Å–∏—é</a> –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ</p>
            <div class="status">
                <div>–°—Ç–∞—Ç—É—Å: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</div>
                <div>Canvas –¥–æ–ª–∂–µ–Ω –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å—Å—è</div>
                <div>–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –¥–æ–ª–∂–Ω—ã –¥–≤–∏–≥–∞—Ç—å—Å—è</div>
            </div>
        </div>
    </div>

    <script>
        const htmlCanvas = document.getElementById('htmlCanvas');
        const htmlCtx = htmlCanvas.getContext('2d');
        
        let htmlGameState = {
            isPlaying: false,
            score: 0,
            obstacles: [],
            gameLoop: null
        };

        function drawHtmlBackground() {
            const gradient = htmlCtx.createLinearGradient(0, 0, 0, 200);
            gradient.addColorStop(0, '#87CEEB');
            gradient.addColorStop(1, '#E0F6FF');
            htmlCtx.fillStyle = gradient;
            htmlCtx.fillRect(0, 0, 400, 200);
        }

        function drawHtmlGround() {
            htmlCtx.fillStyle = '#8FBC8F';
            htmlCtx.fillRect(0, 150, 400, 50);
        }

        function drawHtmlBike() {
            htmlCtx.strokeStyle = '#E74C3C';
            htmlCtx.lineWidth = 3;
            htmlCtx.beginPath();
            htmlCtx.moveTo(50, 150);
            htmlCtx.lineTo(90, 150);
            htmlCtx.lineTo(70, 130);
            htmlCtx.lineTo(50, 150);
            htmlCtx.stroke();
        }

        function drawHtmlObstacles() {
            htmlGameState.obstacles.forEach(obstacle => {
                htmlCtx.fillStyle = '#FF0000';
                htmlCtx.fillRect(obstacle.x, obstacle.y, obstacle.width, obstacle.height);
            });
        }

        function htmlGameLoop() {
            if (!htmlGameState.isPlaying) return;

            // –û—á–∏—Å—Ç–∫–∞
            htmlCtx.clearRect(0, 0, 400, 200);

            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞
            drawHtmlBackground();
            drawHtmlGround();
            drawHtmlObstacles();
            drawHtmlBike();

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
            htmlGameState.obstacles = htmlGameState.obstacles
                .map(obstacle => ({
                    ...obstacle,
                    x: obstacle.x - 2
                }))
                .filter(obstacle => obstacle.x > -obstacle.width);

            // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ü–∏–∫–ª
            htmlGameState.gameLoop = requestAnimationFrame(htmlGameLoop);
        }

        function startHtmlGame() {
            htmlGameState.isPlaying = true;
            htmlGameState.score = 0;
            htmlGameState.obstacles = [];
            
            document.getElementById('htmlStatus').textContent = '–°—Ç–∞—Ç—É—Å: –ò–≥—Ä–∞ –∏–¥–µ—Ç!';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
            htmlGameLoop();
            
            // –°–ø–∞–≤–Ω –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
            const spawnObstacles = () => {
                if (!htmlGameState.isPlaying) return;
                
                const newObstacle = {
                    x: 400,
                    y: 150 - 30,
                    width: 30,
                    height: 30
                };
                
                htmlGameState.obstacles.push(newObstacle);
                
                setTimeout(spawnObstacles, 2000);
            };
            
            spawnObstacles();
            
            // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á–µ—Ç–∞
            const scoreTimer = setInterval(() => {
                if (htmlGameState.isPlaying) {
                    htmlGameState.score++;
                    document.getElementById('htmlScore').textContent = `–û—á–∫–∏: ${htmlGameState.score}`;
                } else {
                    clearInterval(scoreTimer);
                }
            }, 1000);
        }

        function stopHtmlGame() {
            htmlGameState.isPlaying = false;
            
            if (htmlGameState.gameLoop) {
                cancelAnimationFrame(htmlGameState.gameLoop);
            }
            
            document.getElementById('htmlStatus').textContent = '–°—Ç–∞—Ç—É—Å: –ò–≥—Ä–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞';
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.onload = function() {
            drawHtmlBackground();
            drawHtmlGround();
            drawHtmlBike();
        };
    </script>
</body>
</html>
