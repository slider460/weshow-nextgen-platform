-- ===============================================
-- ПРОСТОЙ СКРИПТ ДЛЯ ДОБАВЛЕНИЯ ТОВАРОВ
-- Сначала проверяем структуру, потом добавляем
-- ===============================================

-- Шаг 1: Проверяем структуру таблицы
SELECT 
    column_name,
    data_type,
    is_nullable,
    column_default
FROM information_schema.columns 
WHERE table_name = 'equipment_catalog'
ORDER BY ordinal_position;

-- Шаг 2: Проверяем существующие данные
SELECT COUNT(*) as existing_records FROM equipment_catalog;

-- Шаг 3: Показываем пример существующих записей
SELECT * FROM equipment_catalog LIMIT 2;

-- Шаг 4: Добавляем товары (только name и description - самые базовые поля)
INSERT INTO equipment_catalog (name, description)
VALUES 
    ('LED-экран P2.5 Indoor Premium', 'Премиальный LED-экран для закрытых помещений'),
    ('LED-экран P4 Outdoor', 'Надежный LED-экран для наружного использования'),
    ('Видеостена 4x4 метров', 'Масштабная видеостена для больших мероприятий'),
    ('Мобильный LED-экран 5x3м', 'Мобильная LED-конструкция на трейлере'),
    ('Прозрачный LED-экран 3x2м', 'Прозрачный LED-дисплей для витрин'),
    ('Изогнутый LED-экран 180°', 'Изогнутый LED-экран для иммерсивных инсталляций'),
    ('LED-панель для сцены 6x4м', 'Сценический LED-экран для театров'),
    ('LED-куб 2x2x2м', 'Кубический LED-дисплей для инсталляций'),
    ('Лазерный проектор 4K 20000 люмен', 'Профессиональный лазерный проектор'),
    ('Ультракороткофокусный проектор', 'Проектор для интерактивных досок'),
    ('Проекционный экран 8x6м', 'Большой моторизованный экран'),
    ('3D проектор для стереоскопии', 'Проектор для 3D-презентаций'),
    ('Проектор для mapping 6000 люмен', 'Специализированный проектор для маппинга'),
    ('Портативный проектор 3000 люмен', 'Компактный проектор для презентаций'),
    ('Проекционный купол 360°', 'Купол для иммерсивных проекций'),
    ('Проекционная сетка 10x6м', 'Сетка для проекционного маппинга'),
    ('Профессиональный микшерный пульт', 'Цифровой микшерный пульт'),
    ('Беспроводная система микрофонов', 'Профессиональная беспроводная система'),
    ('Активная акустическая система 2x15"', 'Мощная акустическая система'),
    ('Сабвуфер 18" для басов', 'Мощный сабвуфер для низких частот'),
    ('Интерактивная акустическая система', 'Система для живых выступлений'),
    ('Цифровая обработка сигнала', 'Процессор для обработки звука'),
    ('Радиосистема для гидов', 'Система для экскурсий и туров'),
    ('LED прожектор 1000Вт RGBW', 'Мощный LED прожектор'),
    ('Лазерная установка 5Вт', 'Профессиональная лазерная система'),
    ('Стробоскоп LED 1000Вт', 'Мощный стробоскоп для дискотек'),
    ('Дым-машина 2000Вт', 'Профессиональная дым-машина'),
    ('Ультрафиолетовые лампы 365nm', 'УФ лампы для неоновых эффектов'),
    ('Генератор молний', 'Установка для создания эффекта молний'),
    ('Голографический проектор', 'Проектор для голографических эффектов');

-- Шаг 5: Проверяем результат
SELECT 
    'Товары добавлены успешно' as status,
    COUNT(*) as total_products 
FROM equipment_catalog;

-- Шаг 6: Показываем последние добавленные товары
SELECT 
    name, 
    description,
    created_at
FROM equipment_catalog 
ORDER BY created_at DESC 
LIMIT 10;

-- Шаг 7: Группируем по длине названия для анализа
SELECT 
    CASE 
        WHEN LENGTH(name) < 30 THEN 'Короткие названия'
        WHEN LENGTH(name) < 50 THEN 'Средние названия'
        ELSE 'Длинные названия'
    END as name_length,
    COUNT(*) as count
FROM equipment_catalog
GROUP BY 
    CASE 
        WHEN LENGTH(name) < 30 THEN 'Короткие названия'
        WHEN LENGTH(name) < 50 THEN 'Средние названия'
        ELSE 'Длинные названия'
    END
ORDER BY count DESC;
