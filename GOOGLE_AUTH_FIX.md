# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ - "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:**
–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Google –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω" —Å —Ç–µ–∫—Å—Ç–æ–º "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É".

## üîç **–ü—Ä–∏—á–∏–Ω–∞:**
–ü—Ä–∏ Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ Supabase Auth, –Ω–æ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å –≤ —Ç–∞–±–ª–∏—Ü–µ `user_profiles`, –ø–æ—ç—Ç–æ–º—É —Å–∏—Å—Ç–µ–º–∞ —Å—á–∏—Ç–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º.

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ:**

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è Google –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
```typescript
// –ï—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏), —Å–æ–∑–¥–∞–µ–º –µ–≥–æ
if (!userProfile) {
  console.log('Profile not found, creating new profile for Google user');
  try {
    const { data, error } = await supabase
      .from('user_profiles')
      .insert({
        id: session.user.id,
        full_name: session.user.user_metadata?.full_name || session.user.email?.split('@')[0] || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
        company_name: session.user.user_metadata?.company_name || '–ù–µ —É–∫–∞–∑–∞–Ω–æ',
        phone_number: session.user.user_metadata?.phone_number || null,
        role: 'client'
      })
      .select()
      .single();

    if (error) {
      console.error('Error creating profile:', error);
    } else {
      userProfile = data as UserProfile;
      console.log('Profile created successfully:', userProfile);
    }
  } catch (error) {
    console.error('Error creating profile:', error);
  }
}
```

### 2. **–°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ AccessDenied:**
- ‚úÖ –ö—Ä–∞—Å–∏–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–∫–æ–Ω–∫–æ–π –æ—à–∏–±–∫–∏
- ‚úÖ –ö–Ω–æ–ø–∫–∏ "–ù–∞ –≥–ª–∞–≤–Ω—É—é" –∏ "–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É"
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

### 3. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Profile:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–∫–∞–∑ AccessDenied –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

### 4. **–î–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç /access-denied:**
- ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:8087/access-denied
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Ä–æ—É—Ç–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üéØ **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**

### **–ü—Ä–∏ Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Google** ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ Supabase Auth
2. **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å** ‚Üí –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –≤ `user_profiles`
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å** ‚Üí —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ Google
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø** ‚Üí –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É

### **–î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è –∏–∑ Google:**
- **full_name** ‚Üí –∏–∑ `user_metadata.full_name` –∏–ª–∏ email
- **company_name** ‚Üí –∏–∑ `user_metadata.company_name` –∏–ª–∏ "–ù–µ —É–∫–∞–∑–∞–Ω–æ"
- **phone_number** ‚Üí –∏–∑ `user_metadata.phone_number` –∏–ª–∏ null
- **role** ‚Üí –≤—Å–µ–≥–¥–∞ "client"

## üöÄ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

**Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!**

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è** - –¥–ª—è Google –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –∫—Ä–∞—Å–∏–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ AccessDenied
- ‚úÖ **–ü–ª–∞–≤–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - –±–µ–∑ "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"
- ‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É** - –ø–æ—Å–ª–µ Google –≤—Ö–æ–¥–∞

## üì± **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8087/**
2. **–ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏" ‚Üí "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"**
3. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google**
4. **–î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç** –±–µ–∑ –æ—à–∏–±–æ–∫

---

**üéâ Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!**

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –≤—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Google –±–µ–∑ –ø—Ä–æ–±–ª–µ–º!** ‚úÖ
