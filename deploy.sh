#!/bin/bash

echo "üöÄ –ù–∞—á–∏–Ω–∞–µ–º –¥–µ–ø–ª–æ–π WeShow NextGen Platform..."

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
echo "üì¶ –°–æ–±–∏—Ä–∞–µ–º –ø—Ä–æ–µ–∫—Ç..."
npm run build

# –°–æ–∑–¥–∞–µ–º –≤–µ—Ç–∫—É gh-pages –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
echo "üåø –°–æ–∑–¥–∞–µ–º –≤–µ—Ç–∫—É gh-pages..."
git checkout -b gh-pages 2>/dev/null || git checkout gh-pages

# –û—á–∏—â–∞–µ–º –≤–µ—Ç–∫—É
echo "üßπ –û—á–∏—â–∞–µ–º –≤–µ—Ç–∫—É gh-pages..."
git rm -rf . 2>/dev/null || true

# –ö–æ–ø–∏—Ä—É–µ–º —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
echo "üìÅ –ö–æ–ø–∏—Ä—É–µ–º —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã..."
cp -r dist/* .

# –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã
echo "‚ûï –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã –≤ git..."
git add .

# –ö–æ–º–º–∏—Ç–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
echo "üíæ –ö–æ–º–º–∏—Ç–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è..."
git commit -m "üöÄ –î–µ–ø–ª–æ–π: $(date)"

# –ü—É—à–∏–º –Ω–∞ GitHub
echo "üì§ –ü—É—à–∏–º –Ω–∞ GitHub..."
git push origin gh-pages --force

# –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É
echo "üîÑ –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É..."
git checkout main

echo "‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω! –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:"
echo "üåê https://slider460.github.io/weshow-nextgen-platform/"
echo ""
echo "üí° –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤–∫–ª—é—á–∏—Ç—å GitHub Pages –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è!"
